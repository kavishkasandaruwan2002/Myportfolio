var U=Object.defineProperty;var k=(f,e,o)=>e in f?U(f,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):f[e]=o;var v=(f,e,o)=>k(f,typeof e!="symbol"?e+"":e,o);import{r as N,j as g}from"./index-D-BBnMGx.js";const X=()=>{const f=N.useRef(null);return N.useEffect(()=>{const e=f.current;if(!e)return;const o=e.getContext("2d");if(!o)return;const r=document.getElementById("home");let C=!1;if(r&&e.parentElement!==r){const n=window.getComputedStyle(r).position;(!n||n==="static")&&(r.style.position="relative"),r.appendChild(e),C=!0,e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.pointerEvents="none"}let u=0,h=0,y=[],S=200,B=0,E=0;const l={particleCount:800,particleSpeed:.1,particleLifetime:300,hueSpeed:.2,noiseScale:.002,noiseSpeed:5e-4,canvasGlow:15},$=(()=>{const n=new Uint8Array(512);for(let t=0;t<256;t++)n[t]=n[t+256]=t;const i=new Uint8Array(512);for(let t=0;t<256;t++){const s=Math.floor(Math.random()*(256-t))+t;[n[t],n[s]]=[n[s],n[t]]}for(let t=0;t<512;t++)i[t]=n[t&255];function a(t){return t*t*t*(t*(t*6-15)+10)}function p(t,s,c){return s+t*(c-s)}function m(t,s,c){const d=t&15,M=d<8?s:c,w=d<4?c:d===12||d===14?s:0;return(d&1?-M:M)+(d&2?-w:w)}return(t,s,c)=>{const d=Math.floor(t)&255,M=Math.floor(s)&255,w=Math.floor(c)&255;t-=Math.floor(t),s-=Math.floor(s),c-=Math.floor(c);const x=a(t),R=a(s),T=a(c),b=i[d]+M,P=i[b]+w,I=i[b+1]+w,L=i[d+1]+M,F=i[L]+w,H=i[L+1]+w;return p(T,p(R,p(x,m(i[P],t,s),m(i[F],t-1,s)),p(x,m(i[I],t,s-1),m(i[H],t-1,s-1))),p(R,p(x,m(i[P+1],t,s),m(i[F+1],t-1,s)),p(x,m(i[I+1],t,s-1),m(i[H+1],t-1,s-1))))}})();class G{constructor(){v(this,"x");v(this,"y");v(this,"vx");v(this,"vy");v(this,"lifetime");v(this,"age");this.x=0,this.y=0,this.vx=0,this.vy=0,this.lifetime=0,this.age=0,this.reset()}reset(){this.x=Math.random()*u,this.y=h/2+(Math.random()*h/4-h/8),this.vx=(Math.random()-.5)*.5,this.vy=0,this.lifetime=Math.random()*l.particleLifetime,this.age=0}update(i){this.age++,this.age>this.lifetime&&this.reset();const a=$(this.x*l.noiseScale,this.y*l.noiseScale,i*l.noiseSpeed)*Math.PI*4;this.vx+=Math.cos(a)*l.particleSpeed,this.vy+=Math.sin(a)*l.particleSpeed,this.vx*=.98,this.vy*=.98,this.x+=this.vx,this.y+=this.vy,(this.x<0||this.x>u||this.y<0||this.y>h)&&this.reset()}draw(){if(!o)return;const i=1-this.age/this.lifetime,a=S+this.x/u*60;o.beginPath(),o.fillStyle=`hsla(${a}, 80%, 45%, ${i*.35})`,o.arc(this.x,this.y,1.8,0,Math.PI*2),o.fill()}}const A=()=>{const n=Math.max(1,window.devicePixelRatio||1);let i=null;r&&(i=r.getBoundingClientRect()),i?(u=Math.max(1,Math.round(i.width)),h=Math.max(1,Math.round(i.height))):(u=Math.max(1,window.innerWidth),h=Math.max(1,window.innerHeight)),e.width=Math.max(1,Math.floor(u*n)),e.height=Math.max(1,Math.floor(h*n)),e.style.width=u+"px",e.style.height=h+"px",o.setTransform(n,0,0,n,0,0),y=[];for(let a=0;a<l.particleCount;a++)y.push(new G)},j=()=>{o&&(o.fillStyle="rgba(235, 240, 255, 0.1)",o.fillRect(0,0,u,h),o.shadowBlur=l.canvasGlow,o.shadowColor=`hsla(${S}, 100%, 50%, 0.3)`,y.forEach(n=>{n.update(B),n.draw()}),o.shadowBlur=0,S+=l.hueSpeed,B++,E=window.requestAnimationFrame(j))};return A(),j(),window.addEventListener("resize",A),()=>{window.removeEventListener("resize",A),window.cancelAnimationFrame(E);try{C&&r&&r.contains(e)&&r.removeChild(e)}catch{}}},[]),g.jsxs("div",{className:"absolute inset-0 -z-10",children:[g.jsxs("div",{className:"content sr-only",children:[g.jsx("h1",{children:"Cosmic Aurora"}),g.jsx("p",{children:"A serene, generative celestial light show, built with React."})]}),g.jsx("canvas",{ref:f,id:"aurora-canvas",className:"w-full h-full block"})]})};export{X as default};
//# sourceMappingURL=cosmic-aurora-BD9UUqrq.js.map
