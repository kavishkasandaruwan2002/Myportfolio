var U=Object.defineProperty;var k=(f,e,a)=>e in f?U(f,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):f[e]=a;var v=(f,e,a)=>k(f,typeof e!="symbol"?e+"":e,a);import{r as H,j as g}from"./index-Dwhb7zgP.js";const X=()=>{const f=H.useRef(null);return H.useEffect(()=>{const e=f.current;if(!e)return;const a=e.getContext("2d");if(!a)return;const r=document.getElementById("home");let C=!1;if(r&&e.parentElement!==r){const n=window.getComputedStyle(r).position;(!n||n==="static")&&(r.style.position="relative"),r.appendChild(e),C=!0,e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.pointerEvents="none"}let u=0,l=0,y=[],S=200,B=0,E=0;const h={particleCount:800,particleSpeed:.1,particleLifetime:300,trailLength:.08,hueSpeed:.2,noiseScale:.002,noiseSpeed:5e-4,canvasGlow:15},N=(()=>{const n=new Uint8Array(512);for(let t=0;t<256;t++)n[t]=n[t+256]=t;const i=new Uint8Array(512);for(let t=0;t<256;t++){const s=Math.floor(Math.random()*(256-t))+t;[n[t],n[s]]=[n[s],n[t]]}for(let t=0;t<512;t++)i[t]=n[t&255];function o(t){return t*t*t*(t*(t*6-15)+10)}function p(t,s,c){return s+t*(c-s)}function m(t,s,c){const d=t&15,M=d<8?s:c,w=d<4?c:d===12||d===14?s:0;return(d&1?-M:M)+(d&2?-w:w)}return(t,s,c)=>{const d=Math.floor(t)&255,M=Math.floor(s)&255,w=Math.floor(c)&255;t-=Math.floor(t),s-=Math.floor(s),c-=Math.floor(c);const x=o(t),R=o(s),T=o(c),b=i[d]+M,L=i[b]+w,P=i[b+1]+w,I=i[d+1]+M,$=i[I]+w,F=i[I+1]+w;return p(T,p(R,p(x,m(i[L],t,s),m(i[$],t-1,s)),p(x,m(i[P],t,s-1),m(i[F],t-1,s-1))),p(R,p(x,m(i[L+1],t,s),m(i[$+1],t-1,s)),p(x,m(i[P+1],t,s-1),m(i[F+1],t-1,s-1))))}})();class G{constructor(){v(this,"x");v(this,"y");v(this,"vx");v(this,"vy");v(this,"lifetime");v(this,"age");this.x=0,this.y=0,this.vx=0,this.vy=0,this.lifetime=0,this.age=0,this.reset()}reset(){this.x=Math.random()*u,this.y=l/2+(Math.random()*l/4-l/8),this.vx=(Math.random()-.5)*.5,this.vy=0,this.lifetime=Math.random()*h.particleLifetime,this.age=0}update(i){this.age++,this.age>this.lifetime&&this.reset();const o=N(this.x*h.noiseScale,this.y*h.noiseScale,i*h.noiseSpeed)*Math.PI*4;this.vx+=Math.cos(o)*h.particleSpeed,this.vy+=Math.sin(o)*h.particleSpeed,this.vx*=.98,this.vy*=.98,this.x+=this.vx,this.y+=this.vy,(this.x<0||this.x>u||this.y<0||this.y>l)&&this.reset()}draw(){const i=1-this.age/this.lifetime,o=S+this.x/u*60;a.beginPath(),a.fillStyle=`hsla(${o}, 100%, 70%, ${i*.5})`,a.arc(this.x,this.y,1.5,0,Math.PI*2),a.fill()}}const A=()=>{const n=Math.max(1,window.devicePixelRatio||1);let i=null;r&&(i=r.getBoundingClientRect()),i?(u=Math.max(1,Math.round(i.width)),l=Math.max(1,Math.round(i.height))):(u=Math.max(1,window.innerWidth),l=Math.max(1,window.innerHeight)),e.width=Math.max(1,Math.floor(u*n)),e.height=Math.max(1,Math.floor(l*n)),e.style.width=u+"px",e.style.height=l+"px",a.setTransform(n,0,0,n,0,0),y=[];for(let o=0;o<h.particleCount;o++)y.push(new G)},j=()=>{a.fillStyle=`rgba(0, 2, 26, ${h.trailLength})`,a.fillRect(0,0,u,l),a.shadowBlur=h.canvasGlow,a.shadowColor=`hsla(${S}, 100%, 50%, 0.5)`,y.forEach(n=>{n.update(B),n.draw()}),a.shadowBlur=0,S+=h.hueSpeed,B++,E=window.requestAnimationFrame(j)};return A(),j(),window.addEventListener("resize",A),()=>{window.removeEventListener("resize",A),window.cancelAnimationFrame(E);try{C&&r&&r.contains(e)&&r.removeChild(e)}catch{}}},[]),g.jsxs("div",{className:"absolute inset-0 -z-10",children:[g.jsxs("div",{className:"content sr-only",children:[g.jsx("h1",{children:"Cosmic Aurora"}),g.jsx("p",{children:"A serene, generative celestial light show, built with React."})]}),g.jsx("canvas",{ref:f,id:"aurora-canvas",className:"w-full h-full block"})]})};export{X as default};
//# sourceMappingURL=cosmic-aurora-CSPD7Ifg.js.map
